import {
  Autocomplete,
  TextField,
  Box,
  Divider,
  Grid,
  Stack,
  Typography,
  useMediaQuery,
  useTheme,
} from "@mui/material";
import {useEffect, useMemo} from "react";
import Error from "../../Error";

import EmptyTabContent from "../../../../components/IndividualPageContent/EmptyTabContent";
import {grey} from "../../../../themes/colors/colorPalette";
import JsonViewCard from "../../../../components/IndividualPageContent/JsonViewCard";
import {useParams} from "react-router-dom";
import {useNavigate} from "../../../../routing";
import SidebarItem from "../../Components/SidebarItem";
import {Code} from "../../Components/CodeSnippet";

interface ModuleSidebarProps {
  sortedPackages: any[];
  selectedModuleName: string;
  getLinkToModule(moduleName: string): string;
  navigateToModule(moduleName: string): void;
}

interface ModuleContentProps {
  address: string;
  moduleName: string;
  bytecode: string;
}

function ViewCode({address}: {address: string}): JSX.Element {
  const sortedPackages: any[] = [
    {
      name: "bridge",
      modules: [
        {
          extension: {
            vec: [],
          },
          name: "asset",
          source:
            "0x1f8b08000000000002ffed5d7d53db48d2ff7f3f8592aba2e49c9285400867027584b0bbd493b707c8eeed6da554c292b12ab2e4b3e41092e2bb3fddf3a2e979938d2179b27bdebaba6069a667a6a7a7fbd73d3da37195ce8a2c389fe6e945d6ef27759d35c1971f02f8af6ea6b34113bc3b7d71187cb9361e9d198f9ec333bb147b449ffd7674f68b51ecb7e7678c3e141ceb9d19547919f31fa24bb33a836a69bf9f4da7d574577f06f4f2f2c278f8311b3476c9fca2cca6fdfe97244da7595dc7d5f07af787b64c3269aa3a66259be4bc809e7c39cd8a61149ce1afeb5d57c1ec6356366dc123fcf54b52a6bee2cdd5248bf3725829daf0e4181eb8cb0fa7d5383e1fd450b38a45af9d05c74933dadeb206339c26e3ecb29a7ee05c6d5b7d3e9b9687c92439cf8bbcb98a825779d9d0df3f4db3ec73469f1c4275ab8f843c7fc01b39c0bfb14257f9c1a09a950de971915c65d3cfd9b4022ae3710574ea6c9a66bb1d05664d5e006fbef0d98eeb221f645180c23c6de2d9c676fb379ff9f667919517cde8da411a66b44c27d07535a9ef12c5077795e273329938df4cb371d590217cc687ecfffe7df2463d96925fe4e3bcc9a6822983aaac9be0e8f9c9f18b9f8fe277af4f8e7e3e3e3d3b3a397a111fbe397edd0f66db5bc15eb0fe697d7dd75101cbc4072f4f8e0e5efc1e1ffd0baa9e922a1bae2a2747afde9c899aafdf9cc53fbd79f7fa05a9f4d855e9f8f5af072f8f799fe2b3dfdf1e910a9bce8ebd3c387e75f0fc6547435b731b7a717408445ed2213df172019b78f7fab79383b76fb15d5267dbddd0e9bb9f7e3a3e3c3e7a7d16bf3cfedf77c72f8ecf7e27b59e7675efe0c58b93a353dab19daee2a7c73fbf3e3a21a5ffd155faedc1e1ff1c9d996c4e5c55de1ebc3b3da24c3d77953a3d7afde2f8f5cff1c12b980220fce64dfcd3d16fa4d6a07bac076f4122a1ad93835774c8a990e11f7f0c26c920fb00d605755f14e46550e465165ce6cd2838faf51521fef6e4e8f0e8f8571cd80e52a10dbfc57e8a171bdafa38fde500570491072cb3ad9781cad0c7df5fbe394086ffbbe5ddd32dd5cf76d9e2929c82c69a803a499abc2a838b0cb4473e60430886d5346846798d253453c816f1bb03d3f6bd05d51c8c921afa3201459a4eab89306bf81fd710f1609480d1cb53d6b1c87a8b1611d57f3fe0aaeed96c679f97d2db42a58b16e514ca64acd10fd915698dd99fa2aa3ecc267d6ed69e61f79419da8fb4b275dba051406ff6e567a5221dad0e12688daad1679257fbce3194c3fcc2416692c0c4a4f145519d27453f38afaa22325f22a76a3934d9e78895dd8f7096b1009fc787fba292eae7ac6ec0de262958ab6c1a4f123057356d48efe8099b1c6439eb6c8d3cf7cdafb0ddf6fc09e1031af5289966699066837c9c14b59a878f455c9b8201552e475933ca5016333eaa415206e759302b2fa7209a400aac58159420c21f45091065de9f80c95b044bf143c6c1197003ff81128c6a361b4700d15e3fc717f80fbc787e7ad8b62f1a6130c9cb20640d93c4679351027d19b7f2b9ef98de227d5ca7f13469327bacacbbc72976460e0028b996493bf948824cd1be4d2fc8d3a01a5282b573599259dbde227406450233056dc5c91830452a5b16731d057a71297cb01a543b6398a398ad0f1d823d6b39a5089c0368e36575f8e62a3b64008e9736c19c595e9f3486617dfaa306741433cc0b4c2168f7d929bc60bff7a9f21a64207acef227fc9d5985b1d459e110dfd0e27aafdbf659a7710d467c415235845a14977ebf5577aae5b46e7c4a185f89b14cdd0b381923966522a0d5e4aba44b83282e2cdbf17a3af05b0fd9692992737b5c37493dcad28e35ddcec3b21dbe61af44f3c319acd7326f62ee2c86c27fe8076b1cdbf7a82601b401920ff65d81f9697691d7a8d56789b23e924a6f57d5452cdfef6353f26d84c44811ae1bf4323d8123d89aae40e89b4a55d7cce317d6b5ebce0ac204aa1139ccdf106c4416b94a0835287cd832bb0c7b7a398f9d3328ceeb22451a7a4f3594e1ef860630c0f11a4f9a2b5aa6bb03444fe9ad6b3a4a8a09b6cf1fc6235363b573a877cf545f7e529a32f350d3359b9f16d1730e4ad7420caf256ab5c16b928ed1b49530b34340de4639fe1616d38001db06cba70214550c4a705f94959fccce0102c3226aa6576c01b68b082b283312aa056cac4ad5f3123cff7ec06335fdfe29fb97a89dabf17955f8df4b5084e85e3d15ee325a398990d8bb1ef4e33fb31c748b574cb5b88012aa7ff2d193c5ce0bde0bef81b6e3385c32214b09077a51c0625310d828a659925ec5d9272855871dde78cfd18ce1cd04cff6dab1b72de4e5c7a4c8d338995eccc6303961a783dca3ab083563287144445042d422911ea84d1ec641fd96434b9f3332d0965538a19198b8887412cc446636c9140237127b6059601897428fc5e359f34c9ba4fdd09e04a92226b37a149f27830fe11ad423641f315d120524bec6feac86748ee62a340e561548d5150b05a83cde063daa2ec38df5280843c981e0a1e9928238d6289b3d4bc150d4ead7934e2cead0976e4ceaa72b675c7fda4a87f654498a5b3d8ba548ecaca1225a3eeb8bd6d4670e053560c67006b273f6db41207b60e9260860c784b6ddb4524a500b9922514e40f4470481893205f1acb3017bd05b5e69104d6172c3c93a32025254f455f69276b067f0ae82b88a6ab3d57dcc311c25e0048e6745934f8a4cf379801d8f2e1ea1f7f790c5fcc10e0507bf1efc8bfdf2f39a48efcd2cc16d231e1deea7a1f84fb9477e47360003caa1d179bb100f2d876be638a260f3f1d2128278160975ab50437bb914696bcd845680b5d5a05609d714fd47542f45e674f5e69b218fa9d38643da80f19048ca1797ea6ba32716577540292225ebfa63222c044929a6085e003d6e5616654544bb33df5a39c8328d6eb3f88eada7393ec36c0aa41ef140e597ce5132a607d70b185aa2999cea430c80b92c0e0dcd5d19beb6b5556d384673d7b0b18858753717f1958b7dbcd223cdfd0212fcf7fc81b2729dd6e8cec67a0be5b2045f8458cd26d8981471ca2ab16aba45450e7f8ec8702b183b3dd77906fefb901f67d759888275d5357c1cf80588105b79031942c8b3ba439c7afd20f48612fd81c38e20a1cba87e23a9f499bc45cd5d48746e8b76a92256ae1079a8b06ecfed6c7377799a94f510e2ef12abd6b4149941168ff0c124e66931bebaa2b8b70a4a0eb34c506ef7e3f7bb42936c8e8c90908beeb8be28f2736f919ed5a81394a9f08d0c77997132dd69e5db1830646029d824d843177fa3bfdab238c66dc5185eb2998f3406461acf22e44f243c5d0c9c3c831d79a68f3867228317913e6e6d7d23893483d845751523a990f46e974440c8083cabdd1ec837161ad1c96ed9c1e1a912c8b76f2357a1d923d581de5d08591b7e6e43208070671907c734460c65d94cd10a8892807329a8797840a6cda64448e5c3205454f60db23d030e83eee1cdb0481d36c5bcb5349b5475def0fd3e15c3933e981ec480beb38a7288d927d064834661d488f0e1a1d9a15d3dda20449f352ff56fc4e89392d7bb4b2d6516c22c936281a5aca43692c2b9f83a56d6c2dfb139284f7619d3b55c0b164be08ab37ce1afb2eb44d7b0f6a25db77336a9ee6ac5dec59a14f2376f91b92454628856d451a7a6d3e492d4e33313d1660c0a8a9b40475210123a8ccb2c4b2110ac74524b51d533088a59e8a0c62c91a4238a5b51dcef7515818e92fa087d5f8ce0f1a158d30ad4983bb917a87c4c316cc23241cce051480844ba69bd615dcb56930d479b8d2b73fc6dccf122ce82199e2bb927d95d0862787446fc013c7d6db0e01d95715e1aac6dd230934b22aa415eaba075fa15a3788b07f1b421b711bcb26ae221e8cd34ec4c00ed19436fb107c3349842d3a620614ac07996954251a74bc32b51b6c6b26cdf456978cd57537b320efe2822fb10139c1bb774a7425aa307ab0f3a0dd88af3df422e11b87f142430ad0de23a18ff74585497940b32d40f44624ec1b66175ea16359ab9c5189d95d5ec62044461a5a5b07c3a02ac425284c481a8cd8974762e917b2129fc88075d83fd3d35678bec54ba326c7b569285d6c49eebe143d5acce3574ed5bc1349c357c270ce29a231a60f07f30cac08e5d00c7d9fcf1d455a14203ae1f157d2c6bc6a774a3bba6bfed99ddce61814c92aba24a52cd4de0aadc74095c534203de8b45eb8d04e99e1fbd8b9eb1c0d5a04a21908c36523cd57aa1c7ee4db04184450c4ce703920d8acf688670b909e127c909b243c5e798e7fae811226a575c3a94f941d023d1bd56b8fa7d88b81157c6bd1018028b0de0618230914ac418d4baf32af7489b464d44ac3756a214f34338cff58704c369cf259ed36547c774fae63035fffaab35cef2477433d898bd0cd709cb6bd158c6335dfcf64f0104d79489b336489be7ccd01c1ebd87a8dc48638f484e903e169537a82f2ba92b4416db9c18b655d53f9d26eeb3df2a4367bd12605c7b7e1d392761596716e656748d7a49568e214b3b7425354bb1a40fbf6b3448c7e6c37859abf600da313d6a2503b65dc49f4a7f50ea1ad30c65b2a41653f98d64de948af1b6de4e534457b3e5c6a1826f878e91a60be9527321d5f5a1bde52d853c3ebf6a303d47219c604f9097bd6e4dc89af8a30b04a936be0b74ad89d032e8faee809b21cd1d2841f8de3aa8326df68d32cef05092899631bb1011f2c7e2c6c8eeef4e64673a1275fab8484382267cce81062e30cb194115f7dcb890324c0d93165cb15968d36818fa60456c38c9274cd487d96a0f6986bae89bc1639e650d35ee8954bb3a16c15a777aa1a466448e051d1313b2b5d0268231365972c411499a0d9359610b959946a6967214ac1b41e0074653faefbfabd9229832c88a3a73f51aa538c6adba4c7989f893ba7f6b8e5dbdcec0b4ea3ba5af63dc6f8f5ee640163dfd58b7f9dab9813b052e9ac5b0de2e055a84901aa88582962e3cc2f3a60d73af82666df6ff6208e36b600a2a39921ad314ec18212c531e7574ea0c4700d4b3d46fa82818e19ea918380d59b15bbf5c7bb190a630f90f5ced0c20e02e541d8c71894068ac0cd6ff9f0cb45f8171ce745869dff164d350bb352c0f7cdd40a1f2fed8a3d3c8d3f8d5cd7afcc362ea95b63657c3bab5abc07c868afdeef42a3d88a1eb2472b4e94e75aad2563aabfc4ab4af09d7629a53a5a7081dfa31cf2eddc9297ffb03dfbd37930f940bc1065abbdcbef8467e9f7d7a78fec90c8f2b414247623b7a311f22d0625710b8dbf3e439f60d5fcdce7a5c382d737e4a66ab0c5b5932315ab8e64bd3c451d08525d34debbcbc00ba55a9b81d3ed01bd15c7f8f14cc39e7c2b792c87cf1732eddba7b8166ff33436e43882ab437cc50b6a0ff183f9329fb1d3b58fe9d2bdcb362f48cbc7ee545ab5e382380917d9300eddcbc5dd205d880e97ee0ffd4e0cae85c0fe911647a1e79b1f4bc8560cedd24ddb1b5014380fada5115d65bb3b95c5df480ff5d8e720012611e3c6bebcafd385ffa74cfe5fd186b9b7445ae2e7f36766ef812739cf28eb8c003ff6901ba70cd534d1f8b3a7238c4466de45c0eeed58633541ffac787f47b9efcb3f9f915fc500cbf3fa353f0ee469894abffa3dbb30f1eb89f7b0608f8998732dcc7579c67533acfa44885f80d78b1bc20fae5f066012137de90b9116eb0815cf725ba7465c55b12a7275810ee9a3974eb6eb7c791fdd3662babf4a1ee18054917251af4071d9b91041277028a6bdc6dc8cd954dd233466bef9efb872d61ba3accaeefb6778c53cb6935ab1967cf980f54540310037112f251c0227bfab526c8e9f222488a826f64d72dab8c5d7eb1f48c4b4184e2f9e2d40feec5cff278f420e1cd68c3281e7868a34f53d220791f6f3b92971d851b3dd0cf62e7b2a93e6465b8f9983fe25056fce4ed843bf837ecf024d349302c920ba8de0ec0b5d7ca8089f3989c3fb128307940f3837ab4a80d216862cc9c636d8be4d0e89bc90652d8d18002bb078e5d07c78f23c7b31d6e2adb4d0c763d54570d4edfa8a58d64a9da8eb889ddd9ed2da3264df4a0ece09381769d6ef7071bed1a0dd6a98d9fcf9676675d56a179054a86f58d9edbc930517d4ed7ac6d644dc7e55448e9dfee23b842c0da813eddb4450bc7c05c1f960fc958050a4d6316bd3750118350cb86eb6cbe4672afbdae4c9dfcc7cc9f2c0d3bee6ceb3a07296381ee4e6dc0fad9b4c000dd63f056dddc8c82ed271d09562eeea0d0bac96d3f61fca6c76c6eb2f367eae6b919334253991edf9a677fd908f3fa8f6d751cd9e236d67f6ccb723978a68710ce0bf0a059a690cf890c42a6afe4b500b6dbb83ecf3e4b91946a13602dbf0ec0e8e7e23b78fa4d7e3d9fa5c7199bef525a0bf65eb8e8f519936c3aceeb1a50246c4e9539594ed605983d3b61b723507fd732d21ea5769d0f6d87332b938f495e204e0ff58b199dc159a9afba438cbaa03ac2e08e53982df59e2f83ecde03cb9de8a4b3e0183d8051da9e19780f01a888c68850e2a3b82a8babf7fa1dbee7837af70777197143559b907c08b6d4bec2cc7be39a2bb5da7be59a59f8dad327e27ab2ccbed61e323e4aa3c8228f6e28d705e3246c75a2b63bc557a090c4559e1218b4c1ec1ba2266da837c65cb7c15bdd3088cfdcfb5693b07914b05b14875d972983e0a179d91803462495f09feb9f36d69db65abcdcd8f5d46f4db9bcf499fd8660306d611e0c30ea8af726001834337690dde55be8d72a18bd735e93e57cb7b16e5cc580970399fb17b243d9a7094c79a6a415c5f48f8df7bb6d3a28113f2bfa8d375e96e282034929b2bacec598e6ead3c8c67c7a665607a1265f2d48890c719d414ee37fc8ba60e33d6f820b30770fd14340f7d0ce761713ba475a59d74da453c80550a7422ec6a2c9395bfe5c9d5c544d8047dd605f6d1c9ce753332557a99d4ff7d76ffbdfc62deb3fe6ff643be956f20489dddf5d346dadd51c37da69eacab5ba353f36eeebe85035269390eea091c79e46841842136252203022fef2889a61c1b5cf0df4fb5ff086a188dd3f2bdc5a672d729f3a7b3bca0a408975470debb6f9261f43a9643cd99d032f002f8cc0988c92cdf8f1936d0d69848c2a2a70837c446ea69f56151eadfd67fba4dd034a66cda87d4d9e45822bed3be93354d36450a8c71b8f3759289a516e9f3ed97eba0340ec533698a1abd616de7cf2943cd6dad69ef60c65e0bc6e828f9cc466f5f19217e658c92b324af2940c923ca5a3a4b77ad061ba9edbedfaae028c9c71fa8e2f1be8df2b60b64cca14bfb90b7fc6e8e5c0330c0330458a3c856d59ce400af835a200dea759826176fe3b24e9403aabb5b0c4a22408e797aa4fe668a9fa74369722a0cdbbe637517dc0a661368915c7e40c184cb4c55493435dfc0ca973095b042666133420fb87f68ede574b27816ebfd0dbf2501deed392517b21e6ac19ee84e7f7b1c4fd9ef7f17614e8e6d248c0c1f4edaa1ce8d63a5437a3b86e8644e3e7be84c6eaaef7520cd942d8914cc44bca1e84e42c96bba4ea61483a6b8fb7b9ccffda035ed0fd24c2a816065b73d5d4798b32955e516e4e6be2caabd9c4321803d0b3809dea6a361d647f4e4b026010e3a04e562d623716283b609fcc31824294718e7451bd8079aa44e3aea3b6615df4dae61438ea9b450c0a644e1c95a95d313d5a356bce145962504c27924caca3aa6e4a3c75bb466c1732a810e97454772b0fe68fa374396ab0e7865ec3a5c9527195dcf0e339fc4b0f33dc90e7780f0ba10e0a44e0ea91ef2a607afd2ffd9693ba0458690d0bcd7c4528e458008e8ca55acb66a5d771e8f1889dadadeda75b5beb4f379faeffe3c9938ded8d27c6d946fb525c5fe22b6dc5bf2045426cc780e5456246cdc8b57a75fbeec7525e9ace357d6baae63abf35414b01dc9aa2ad18ee8ee41d73d3d420b726a8548b45caba0fdb84ca5a34fdcb0dee8ff6dd593fd799d67b8f45ba17c69fc9dd1673c1a3c007cf0f5ff4debb8fbd3064c52f252af54d83ff0e6cd57aedfa191ef79dce73cf0f1b51a4590112ca6aecfa8ad88126ab50fb15421e96266b896060737acc5971f9a29a03782bc734b0c0c32248c35dd6b7bba04a18206532cd60179a1f9a9419d63a3ac56c317d9b1fc8332fda9df4d85df2fb880518a3eacabde4a7aa603bbe269fefc0efcaf12f48040a7aa50b8414f4ef4cb1cd6cd76d19ac77a2a61001a1029d3c5faaa47f23ca2c69fa2b66ef7c94ac828ecff38004e8b114dfc5d6567bce6b7fa763f62dc0da48b669bfc3b0c88ea48310868deccf0fd52cfe8093484ef36b83d960bb44d69036235723166216b90e4a11b26b4f62f55ba5aeccbbf1fe5e48a9f0b52373077ab857e0f1f8dc5b0c9496587a3e629a17389f5a5e9ee3a1b958638f461b7c81b954aa5943c924639bcc63b119e25890d6d9f1f6a3217bc18eb1aa30b79d6db4b01dc0702778186cf78207b8e3f2b5c287ea232e1beb6ec4e94959ebd20b6db9395ac19d14a07f67c231c2b9b7d5cb65c6be6eb5cc6117d6e87ed8a572da339b9e43172816e4c8ce1f46a7dffbf6f4dc0c5c3eefdfbadfc19cdbc5cfb42dc20ef3fb3c840ded11b53f1ca94e7c9a7befedfe2d7b666ed14f1bf47d527bed189e907a36216a10f278b6bc08c23881e79eeaf3fb6c4bf4be414b846bf1534b8bd2616bd920c313a33ac8505535ae061f64a6057eea96fb1ea02ec4c904ed1aba87fb22e79ffdd4ef4dc58d06feb55e0d5092bc53aa657cb78c75644df9cc7764a1567fca351e1bc6089518f09e1839ff301bff3b5c1837d8e0cf036822ce9df6d0ac09388acf3211d03cb6669dd1f57e29cabac0c1db6bd7ad622afae516b4c5645f8c6379a19f47609eb4ebf53dae429a152ca7874f37015c5d8e80263702c4e93741f07c2f169b3d07ec97561085651b52f2b24c5c5d65d51a715862ce7c283c0f1aecd1cb709ca54047277cc55957e218d76392aba2b8a6bd8180fbd35d3a2fa8e0ed1057d1a3daefd0162f6d23e59d447bda0c181244ae25216333b702da2911d74ef2df36371ca22dabee59336cab6c961cc7b533d1c6f463c99676b63e43d299204a768316af304a8a612c53866c39fd31786c2462b1fba663dc8050c7b02dd1e41f295df8e30cc6ddec84f30ee8689b0d3206f1c188f51b77e1ee2441ebcd9f6cfde07c7b92c456b1602d16fcb73f5abe0d93bc984db3909d2c8ad921adbd00738b21f2c5c105fb48e25e709a15c3ce50b2040decd62f79180467901df25a85946f1b525ec58b57f1e255bc78152fbe79b0ef9bc7f0f40631f9babb412ce168503ef636c8e4b5a8958353b34cef1ffe8ac14493b683ab166d9964ee8d63f4da765a56aa6f21a396bccc9ad12a76f31dc56ebe7e5c01207703ca1e3fba31c30bbf027e84e292dd36c9d6177ea0025f34155b9a99b8b656decda2a591352084d5ac4803049ac1085c75fe7103eff5beae180297f5a563082b57e036aec0137ef866195760561a27b8576ec0ca0d58b9012b3760e506dcb51b00c2511657ea766834dadf936bf05782e48be1618694be212816bd46c42e993a1fff2f8fabdb7656787ace3edd5c0c6c5d3bc3248979b22b30fc7d81e16d58765b3703c3b08f37ce4b76d1365b47ea72f51518f681e145e1ef9f01d8ae00e7f7073817476206d2909774ad80d8f706c4e65a59df272c164bb85899cddb6e276f6b66d33a9fcc2eff9d7b54496c2ed7b3e13087c823604c91bcb032a6771c595a99d695695d99d6956965fb82a8f535b6aba4536663d765fa99718ebdfd0e983b83f146a9736674d70c0ff7f40991b7dc89543ae32895f56065e69730f38b99ebd52ed0ca56af6cf5ca56af6cf537b0d5ccf96d2a9eb07ff0f64ccf11330c2ebd5ee6b65677597b7bfd7fa589742228b40000",
          source_map: "0x",
        },
        {
          extension: {
            vec: [],
          },
          name: "coin_bridge",
          source:
            "0x1f8b08000000000002ffed5d7d53db48d2ff7f3f8592aba2e49c9285400867027584b0bbd493b707c8eeed6da554c292b12ab2e4b3e41092e2bb3fddf3a2e979938d2179b27bdebaba6069a667a6a7a7fbd73d3da37195ce8a2c389fe6e945d6ef27759d35c1971f02f8af6ea6b34113bc3b7d71187cb9361e9d198f9ec333bb147b449ffd7674f68b51ecb7e7678c3e141ceb9d19547919f31fa24bb33a836a69bf9f4da7d574577f06f4f2f2c278f8311b3476c9fca2cca6fdfe97244da7595dc7d5f07af787b64c3269aa3a66259be4bc809e7c39cd8a61149ce1afeb5d57c1ec6356366dc123fcf54b52a6bee2cdd5248bf3725829daf0e4181eb8cb0fa7d5383e1fd450b38a45af9d05c74933dadeb206339c26e3ecb29a7ee05c6d5b7d3e9b9687c92439cf8bbcb98a825779d9d0df3f4db3ec73469f1c4275ab8f843c7fc01b39c0bfb14257f9c1a09a950de971915c65d3cfd9b4022ae3710574ea6c9a66bb1d05664d5e006fbef0d98eeb221f645180c23c6de2d9c676fb379ff9f667919517cde8da411a66b44c27d07535a9ef12c5077795e273329938df4cb371d590217cc687ecfffe7df2463d96925fe4e3bcc9a6822983aaac9be0e8f9c9f18b9f8fe277af4f8e7e3e3e3d3b3a397a111fbe397edd0f66db5bc15eb0fe697d7dd75101cbc4072f4f8e0e5efc1e1ffd0baa9e922a1bae2a2747afde9c899aafdf9cc53fbd79f7fa05a9f4d855e9f8f5af072f8f799fe2b3dfdf1e910a9bce8ebd3c387e75f0fc6547435b731b7a717408445ed2213df172019b78f7fab79383b76fb15d5267dbddd0e9bb9f7e3a3e3c3e7a7d16bf3cfedf77c72f8ecf7e27b59e7675efe0c58b93a353dab19daee2a7c73fbf3e3a21a5ffd155faedc1e1ff1c9d996c4e5c55de1ebc3b3da24c3d77953a3d7afde2f8f5cff1c12b980220fce64dfcd3d16fa4d6a07bac076f4122a1ad93835774c8a990e11f7f0c26c920fb00d605755f14e46550e465165ce6cd2838faf51521fef6e4e8f0e8f8571cd80e52a10dbfc57e8a171bdafa38fde500570491072cb3ad9781cad0c7df5fbe394086ffbbe5ddd32dd5cf76d9e2929c82c69a803a499abc2a838b0cb4473e60430886d5346846798d253453c816f1bb03d3f6bd05d51c8c921afa3201459a4eab89306bf81fd710f1609480d1cb53d6b1c87a8b1611d57f3fe0aaeed96c679f97d2db42a58b16e514ca64acd10fd915698dd99fa2aa3ecc267d6ed69e61f79419da8fb4b275dba051406ff6e567a5221dad0e12688daad1679257fbce3194c3fcc2416692c0c4a4f145519d27453f38afaa22325f22a76a3934d9e78895dd8f7096b1009fc787fba292eae7ac6ec0de262958ab6c1a4f123057356d48efe8099b1c6439eb6c8d3cf7cdafb0ddf6fc09e1031af5289966699066837c9c14b59a878f455c9b8201552e475933ca5016333eaa415206e759302b2fa7209a400aac58159420c21f45091065de9f80c95b044bf143c6c1197003ff81128c6a361b4700d15e3fc717f80fbc787e7ad8b62f1a6130c9cb20640d93c4679351027d19b7f2b9ef98de227d5ca7f13469327bacacbbc72976460e0028b996493bf948824cd1be4d2fc8d3a01a5282b573599259dbde227406450233056dc5c91830452a5b16731d057a71297cb01a543b6398a398ad0f1d823d6b39a5089c0368e36575f8e62a3b64008e9736c19c595e9f3486617dfaa306741433cc0b4c2168f7d929bc60bff7a9f21a64207acef227fc9d5985b1d459e110dfd0e27aafdbf659a7710d467c415235845a14977ebf5577aae5b46e7c4a185f89b14cdd0b381923966522a0d5e4aba44b83282e2cdbf17a3af05b0fd9692992737b5c37493dcad28e35ddcec3b21dbe61af44f3c319acd7326f62ee2c86c27fe8076b1cdbf7a82601b401920ff65d81f9697691d7a8d56789b23e924a6f57d5452cdfef6353f26d84c44811ae1bf4323d8123d89aae40e89b4a55d7cce317d6b5ebce0ac204aa1139ccdf106c4416b94a0835287cd832bb0c7b7a398f9d3328ceeb22451a7a4f3594e1ef860630c0f11a4f9a2b5aa6bb03444fe9ad6b3a4a8a09b6cf1fc6235363b573a877cf545f7e529a32f350d3359b9f16d1730e4ad7420caf256ab5c16b928ed1b49530b34340de4639fe1616d38001db06cba70214550c4a705f94959fccce0102c3226aa6576c01b68b082b283312aa056cac4ad5f3123cff7ec06335fdfe29fb97a89dabf17955f8df4b5084e85e3d15ee325a398990d8bb1ef4e33fb31c748b574cb5b88012aa7ff2d193c5ce0bde0bef81b6e3385c32214b09077a51c0625310d828a659925ec5d9272855871dde78cfd18ce1cd04cff6dab1b72de4e5c7a4c8d338995eccc6303961a783dca3ab083563287144445042d422911ea84d1ec641fd96434b9f3332d0965538a19198b8887412cc446636c9140237127b6059601897428fc5e359f34c9ba4fdd09e04a92226b37a149f27830fe11ad423641f315d120524bec6feac86748ee62a340e561548d5150b05a83cde063daa2ec38df5280843c981e0a1e9928238d6289b3d4bc150d4ead7934e2cead0976e4ceaa72b675c7fda4a87f654498a5b3d8ba548ecaca1225a3eeb8bd6d4670e053560c67006b273f6db41207b60e9260860c784b6ddb4524a500b9922514e40f4470481893205f1acb3017bd05b5e69104d6172c3c93a32025254f455f69276b067f0ae82b88a6ab3d57dcc311c25e0048e6745934f8a4cf379801d8f2e1ea1f7f790c5fcc10e0507bf1efc8bfdf2f39a48efcd2cc16d231e1deea7a1f84fb9477e47360003caa1d179bb100f2d876be638a260f3f1d2128278160975ab50437bb914696bcd845680b5d5a05609d714fd47542f45e674f5e69b218fa9d38643da80f19048ca1797ea6ba32716577540292225ebfa63222c044929a6085e003d6e5616654544bb33df5a39c8328d6eb3f88eada7393ec36c0aa41ef140e597ce5132a607d70b185aa2999cea430c80b92c0e0dcd5d19beb6b5556d384673d7b0b18858753717f1958b7dbcd223cdfd0212fcf7fc81b2729dd6e8cec67a0be5b2045f8458cd26d8981471ca2ab16aba45450e7f8ec8702b183b3dd77906fefb901f67d759888275d5357c1cf80588105b79031942c8b3ba439c7afd20f48612fd81c38e20a1cba87e23a9f499bc45cd5d48746e8b76a92256ae1079a8b06ecfed6c7377799a94f510e2ef12abd6b4149941168ff0c124e66931bebaa2b8b70a4a0eb34c506ef7e3f7bb42936c8e8c90908beeb8be28f2736f919ed5a81394a9f08d0c77997132dd69e5db1830646029d824d843177fa3bfdab238c66dc5185eb2998f3406461acf22e44f243c5d0c9c3c831d79a68f3867228317913e6e6d7d23893483d845751523a990f46e974440c8083cabdd1ec837161ad1c96ed9c1e1a912c8b76f2357a1d923d581de5d08591b7e6e43208070671907c734460c65d94cd10a8892807329a8797840a6cda64448e5c3205454f60db23d030e83eee1cdb0481d36c5bcb5349b5475def0fd3e15c3933e981ec480beb38a7288d927d064834661d488f0e1a1d9a15d3dda20449f352ff56fc4e89392d7bb4b2d6516c22c936281a5aca43692c2b9f83a56d6c2dfb139284f7619d3b55c0b164be08ab37ce1afb2eb44d7b0f6a25db77336a9ee6ac5dec59a14f2376f91b92454628856d451a7a6d3e492d4e33313d1660c0a8a9b40475210123a8ccb2c4b2110ac74524b51d533088a59e8a0c62c91a4238a5b51dcef7515818e92fa087d5f8ce0f1a158d30ad4983bb917a87c4c316cc23241cce051480844ba69bd615dcb56930d479b8d2b73fc6dccf122ce82199e2bb927d95d0862787446fc013c7d6db0e01d95715e1aac6dd230934b22aa415eaba075fa15a3788b07f1b421b711bcb26ae221e8cd34ec4c00ed19436fb107c3349842d3a620614ac07996954251a74bc32b51b6c6b26cdf456978cd57537b320efe2822fb10139c1bb774a7425aa307ab0f3a0dd88af3df422e11b87f142430ad0de23a18ff74585497940b32d40f44624ec1b66175ea16359ab9c5189d95d5ec62044461a5a5b07c3a02ac425284c481a8cd8974762e917b2129fc88075d83fd3d35678bec54ba326c7b569285d6c49eebe143d5acce3574ed5bc1349c357c270ce29a231a60f07f30cac08e5d00c7d9fcf1d455a14203ae1f157d2c6bc6a774a3bba6bfed99ddce61814c92aba24a52cd4de0aadc74095c534203de8b45eb8d04e99e1fbd8b9eb1c0d5a04a21908c36523cd57aa1c7ee4db04184450c4ce703920d8acf688670b909e127c909b243c5e798e7fae811226a575c3a94f941d023d1bd56b8fa7d88b81157c6bd1018028b0de0618230914ac418d4baf32af7489b464d44ac3756a214f34338cff58704c369cf259ed36547c774fae63035fffaab35cef2477433d898bd0cd709cb6bd158c6335dfcf64f0104d79489b336489be7ccd01c1ebd87a8dc48638f484e903e169537a82f2ba92b4416db9c18b655d53f9d26eeb3df2a4367bd12605c7b7e1d392761596716e656748d7a49568e214b3b7425354bb1a40fbf6b3448c7e6c37859abf600da313d6a2503b65dc49f4a7f50ea1ad30c65b2a41653f98d64de948af1b6de4e534457b3e5c6a1826f878e91a60be9527321d5f5a1bde52d853c3ebf6a303d47219c604f9097bd6e4dc89af8a30b04a936be0b74ad89d032e8faee809b21cd1d2841f8de3aa8326df68d32cef05092899631bb1011f2c7e2c6c8eeef4e64673a1275fab8484382267cce81062e30cb194115f7dcb890324c0d93165cb15968d36818fa60456c38c9274cd487d96a0f6986bae89bc1639e650d35ee8954bb3a16c15a777aa1a466448e051d1313b2b5d0268231365972c411499a0d9359610b959946a6967214ac1b41e0074653faefbfabd9229832c88a3a73f51aa538c6adba4c7989f893ba7f6b8e5dbdcec0b4ea3ba5af63dc6f8f5ee640163dfd58b7f9dab9813b052e9ac5b0de2e055a84901aa88582962e3cc2f3a60d73af82666df6ff6208e36b600a2a39921ad314ec18212c531e7574ea0c4700d4b3d46fa82818e19ea918380d59b15bbf5c7bb190a630f90f5ced0c20e02e541d8c71894068ac0cd6ff9f0cb45f8171ce745869dff164d350bb352c0f7cdd40a1f2fed8a3d3c8d3f8d5cd7afcc362ea95b63657c3bab5abc07c868afdeef42a3d88a1eb2472b4e94e75aad2563aabfc4ab4af09d7629a53a5a7081dfa31cf2eddc9297ffb03dfbd37930f940bc1065abbdcbef8467e9f7d7a78fec90c8f2b414247623b7a311f22d0625710b8dbf3e439f60d5fcdce7a5c382d737e4a66ab0c5b5932315ab8e64bd3c451d08525d34debbcbc00ba55a9b81d3ed01bd15c7f8f14cc39e7c2b792c87cf1732eddba7b8166ff33436e43882ab437cc50b6a0ff183f9329fb1d3b58fe9d2bdcb362f48cbc7ee545ab5e382380917d9300eddcbc5dd205d880e97ee0ffd4e0cae85c0fe911647a1e79b1f4bc8560cedd24ddb1b5014380fada5115d65bb3b95c5df480ff5d8e720012611e3c6bebcafd385ffa74cfe5fd186b9b7445ae2e7f36766ef812739cf28eb8c003ff6901ba70cd534d1f8b3a7238c4466de45c0eeed58633541ffac787f47b9efcb3f9f915fc500cbf3fa353f0ee469894abffa3dbb30f1eb89f7b0608f8998732dcc7579c67533acfa44885f80d78b1bc20fae5f066012137de90b9116eb0815cf725ba7465c55b12a7275810ee9a3974eb6eb7c791fdd3662babf4a1ee18054917251af4071d9b91041277028a6bdc6dc8cd954dd233466bef9efb872d61ba3accaeefb6778c53cb6935ab1967cf980f54540310037112f251c0227bfab526c8e9f222488a826f64d72dab8c5d7eb1f48c4b4184e2f9e2d40feec5cff278f420e1cd68c3281e7868a34f53d220791f6f3b92971d851b3dd0cf62e7b2a93e6465b8f9983fe25056fce4ed843bf837ecf024d349302c920ba8de0ec0b5d7ca8089f3989c3fb128307940f3837ab4a80d216862cc9c636d8be4d0e89bc90652d8d18002bb078e5d07c78f23c7b31d6e2adb4d0c763d54570d4edfa8a58d64a9da8eb889ddd9ed2da3264df4a0ece09381769d6ef7071bed1a0dd6a98d9fcf9676675d56a179054a86f58d9edbc930517d4ed7ac6d644dc7e55448e9dfee23b842c0da813eddb4450bc7c05c1f960fc958050a4d6316bd3750118350cb86eb6cbe4672afbdae4c9dfcc7cc9f2c0d3bee6ceb3a07296381ee4e6dc0fad9b4c000dd63f056dddc8c82ed271d09562eeea0d0bac96d3f61fca6c76c6eb2f367eae6b919334253991edf9a677fd908f3fa8f6d751cd9e236d67f6ccb723978a68710ce0bf0a059a690cf890c42a6afe4b500b6dbb83ecf3e4b91946a13602dbf0ec0e8e7e23b78fa4d7e3d9fa5c7199bef525a0bf65eb8e8f519936c3aceeb1a50246c4e9539594ed605983d3b61b723507fd732d21ea5769d0f6d87332b938f495e204e0ff58b199dc159a9afba438cbaa03ac2e08e53982df59e2f83ecde03cb9de8a4b3e0183d8051da9e19780f01a888c68850e2a3b82a8babf7fa1dbee7837af70777197143559b907c08b6d4bec2cc7be39a2bb5da7be59a59f8dad327e27ab2ccbed61e323e4aa3c8228f6e28d705e3246c75a2b63bc557a090c4559e1218b4c1ec1ba2266da837c65cb7c15bdd3088cfdcfb5693b07914b05b14875d972983e0a179d91803462495f09feb9f36d69db65abcdcd8f5d46f4db9bcf499fd8660306d611e0c30ea8af726001834337690dde55be8d72a18bd735e93e57cb7b16e5cc580970399fb17b243d9a7094c79a6a415c5f48f8df7bb6d3a28113f2bfa8d375e96e282034929b2bacec598e6ead3c8c67c7a665607a1265f2d48890c719d414ee37fc8ba60e33d6f820b30770fd14340f7d0ce761713ba475a59d74da453c80550a7422ec6a2c9395bfe5c9d5c544d8047dd605f6d1c9ce753332557a99d4ff7d76ffbdfc62deb3fe6ff643be956f20489dddf5d346dadd51c37da69eacab5ba353f36eeebe85035269390eea091c79e46841842136252203022fef2889a61c1b5cf0df4fb5ff086a188dd3f2bdc5a672d729f3a7b3bca0a408975470debb6f9261f43a9643cd99d032f002f8cc0988c92cdf8f1936d0d69848c2a2a70837c446ea69f56151eadfd67fba4dd034a66cda87d4d9e45822bed3be93354d36450a8c71b8f3759289a516e9f3ed97eba0340ec533698a1abd616de7cf2943cd6dad69ef60c65e0bc6e828f9cc466f5f19217e658c92b324af2940c923ca5a3a4b77ad061ba9edbedfaae028c9c71fa8e2f1be8df2b60b64cca14bfb90b7fc6e8e5c0330c0330458a3c856d59ce400af835a200dea759826176fe3b24e9403aabb5b0c4a22408e797aa4fe668a9fa74369722a0cdbbe637517dc0a661368915c7e40c184cb4c55493435dfc0ca973095b042666133420fb87f68ede574b27816ebfd0dbf2501deed392517b21e6ac19ee84e7f7b1c4fd9ef7f17614e8e6d248c0c1f4edaa1ce8d63a5437a3b86e8644e3e7be84c6eaaef7520cd942d8914cc44bca1e84e42c96bba4ea61483a6b8fb7b9ccffda035ed0fd24c2a816065b73d5d4798b32955e516e4e6be2caabd9c4321803d0b3809dea6a361d647f4e4b026010e3a04e562d623716283b609fcc31824294718e7451bd8079aa44e3aea3b6615df4dae61438ea9b450c0a644e1c95a95d313d5a356bce145962504c27924caca3aa6e4a3c75bb466c1732a810e97454772b0fe68fa374396ab0e7865ec3a5c9527195dcf0e339fc4b0f33dc90e7780f0ba10e0a44e0ea91ef2a607afd2ffd9693ba0458690d0bcd7c4528e458008e8ca55acb66a5d771e8f1889dadadeda75b5beb4f379faeffe3c9938ded8d27c6d946fb525c5fe22b6dc5bf2045426cc780e5456246cdc8b57a75fbeec7525e9ace357d6baae63abf35414b01dc9aa2ad18ee8ee41d73d3d420b726a8548b45caba0fdb84ca5a34fdcb0dee8ff6dd593fd799d67b8f45ba17c69fc9dd1673c1a3c007cf0f5ff4debb8fbd3064c52f252af54d83ff0e6cd57aedfa191ef79dce73cf0f1b51a4590112ca6aecfa8ad88126ab50fb15421e96266b896060737acc5971f9a29a03782bc734b0c0c32248c35dd6b7bba04a18206532cd60179a1f9a9419d63a3ac56c317d9b1fc8332fda9df4d85df2fb880518a3eacabde4a7aa603bbe269fefc0efcaf12f48040a7aa50b8414f4ef4cb1cd6cd76d19ac77a2a61001a1029d3c5faaa47f23ca2c69fa2b66ef7c94ac828ecff38004e8b114dfc5d6567bce6b7fa763f62dc0da48b669bfc3b0c88ea48310868deccf0fd52cfe8093484ef36b83d960bb44d69036235723166216b90e4a11b26b4f62f55ba5aeccbbf1fe5e48a9f0b52373077ab857e0f1f8dc5b0c9496587a3e629a17389f5a5e9ee3a1b958638f461b7c81b954aa5943c924639bcc63b119e25890d6d9f1f6a3217bc18eb1aa30b79d6db4b01dc0702778186cf78207b8e3f2b5c287ea232e1beb6ec4e94959ebd20b6db9395ac19d14a07f67c231c2b9b7d5cb65c6be6eb5cc6117d6e87ed8a572da339b9e43172816e4c8ce1f46a7dffbf6f4dc0c5c3eefdfbadfc19cdbc5cfb42dc20ef3fb3c840ded11b53f1ca94e7c9a7befedfe2d7b666ed14f1bf47d527bed189e907a36216a10f278b6bc08c23881e79eeaf3fb6c4bf4be414b846bf1534b8bd2616bd920c313a33ac8505535ae061f64a6057eea96fb1ea02ec4c904ed1aba87fb22e79ffdd4ef4dc58d06feb55e0d5092bc53aa657cb78c75644df9cc7764a1567fca351e1bc6089518f09e1839ff301bff3b5c1837d8e0cf036822ce9df6d0ac09388acf3211d03cb6669dd1f57e29cabac0c1db6bd7ad622afae516b4c5645f8c6379a19f47609eb4ebf53dae429a152ca7874f37015c5d8e80263702c4e93741f07c2f169b3d07ec97561085651b52f2b24c5c5d65d51a715862ce7c283c0f1aecd1cb709ca54047277cc55957e218d76392aba2b8a6bd8180fbd35d3a2fa8e0ed1057d1a3daefd0162f6d23e59d447bda0c181244ae25216333b702da2911d74ef2df36371ca22dabee59336cab6c961cc7b533d1c6f463c99676b63e43d299204a768316af304a8a612c53866c39fd31786c2462b1fba663dc8050c7b02dd1e41f295df8e30cc6ddec84f30ee8689b0d3206f1c188f51b77e1ee2441ebcd9f6cfde07c7b92c456b1602d16fcb73f5abe0d93bc984db3909d2c8ad921adbd00738b21f2c5c105fb48e25e709a15c3ce50b2040decd62f79180467901df25a85946f1b525ec58b57f1e255bc78152fbe79b0ef9bc7f0f40631f9babb412ce168503ef636c8e4b5a8958353b34cef1ffe8ac14493b683ab166d9964ee8d63f4da765a56aa6f21a396bccc9ad12a76f31dc56ebe7e5c01207703ca1e3fba31c30bbf027e84e292dd36c9d6177ea0025f34155b9a99b8b656decda2a591352084d5ac4803049ac1085c75fe7103eff5beae180297f5a563082b57e036aec0137ef866195760561a27b8576ec0ca0d58b9012b3760e506dcb51b00c2511657ea766834dadf936bf05782e48be1618694be212816bd46c42e993a1fff2f8fabdb7656787ace3edd5c0c6c5d3bc3248979b22b30fc7d81e16d58765b3703c3b08f37ce4b76d1365b47ea72f51518f681e145e1ef9f01d8ae00e7f7073817476206d2909774ad80d8f706c4e65a59df272c164bb85899cddb6e276f6b66d33a9fcc2eff9d7b54496c2ed7b3e13087c823604c91bcb032a6771c595a99d695695d99d6956965fb82a8f535b6aba4536663d765fa99718ebdfd0e983b83f146a9736674d70c0ff7f40991b7dc89543ae32895f56065e69730f38b99ebd52ed0ca56af6cf5ca56af6cf537b0d5ccf96d2a9eb07ff0f64ccf11330c2ebd5ee6b65677597b7bfd7fa589742228b40000",
          source_map: "0x",
        },
        {
          extension: {
            vec: [],
          },
          name: "limiter",
          source:
            "0x1f8b08000000000002ffed576d6fdb3610fe9e5f714581415abc4671dc0c9092a05b970e030a74e886ed433108b444d944245223a93941e0ffbea348bd5071e22c5b370c88bfd8248f0fef1ede3d4757226f4a0a4bc9f2158de392554c5309b707809f465120b5162a2d24a9e846c8ab38d6aca24a93aa4e7a1ba5f338a6520a994cf6b52b15d1ebd3451cdfd662b34d0e5a934232caf3fedc4c309eda8133c804571a2ebffdf8c377df5fa66fbff931fdf0cbe5c777ef3ffc1a4373ba807388aea3c8192b2d9b4cc37bebfd59bd265c8b0ade22eacf3735bd80355170456f5c5ce643395996348f61294439eba78f8ec004088c83a2e843aefa251da538d59e3ed86f18cfc566c78201129a94201a5d9462d32fa8a64a557ed73a23753fc4dfbecdd6c65937cb926581252f84a2e120e98a290c3a35149ef5110724cb44c3750c5f28b6e254cec6a0e188083c5af0f206974b749667149a5a7030700e5c12cd04ef3754e20f9a6ad19d30eb691fe81ed03daaf196e8cc5bea38ed932a8eb9a5d3501f84be75475de44fdbc0fcb9f1bd9c9c46117c098b998935a705694a0d0b588b460eb7bb0df710ada84ecb69a4819f46dec54d73230492fdde304955c7d888a7926ad01b8269bd1458489b74558a2529d3aad16777f8bd08ded85a0993213b37e495730641dc2f7fd93a87abf687bf38388b06c32019b382f471ba71ab33ac9135954c637195058802f49a422d9990e6a2ba0d0414ab6a94980db9c18a405da8a5b866a809d4ac952c677ce520efa35ecb9b947145a51e277865b26fc8e83de476caf664825901c10b87d2311d6285e846722743dd5998c278ce7d399d78b66d0da17560367dd5b9f9ca16460847fdccf44e3a9f2cc00544e1a4ec7c283c623271b8031acba4c54b3ca4d131e7e0abc7f4305ba2469d7d882dd012bbc223364e268e00bb46309f59bfc209ea50bee32bd80379087dee0c704499fc7a114c6ccf86dd4e66a06d74718cba9e8a229584af68b0ab4f85a1573c2f3f694c87d468ed6fe3a6f58e5c51937870eb190693c68b61bc994ccd5cfb344b2e5d2d725b33e630e7fa146bd4145c03ee261e2ca39dcf013be17a41e2d9b6cddfe2260f838cde14c3858c81f18520294a46370e2c2c1e9fe7e8acc29b081c05e10803f507651b6ca9b7053968de509d46d9cd30c55702be5888d4344f0b2153c321aad394be4905b7ef8573388ea251ce8fe09b3a379e3bbd690feac04dc9a9c04c8dbdf65b7a971f172ec0597b523496fe411e07e3d7d6664c05e6989168856158a747aa3b09a6fd3a8439ea81e99e89d93e96f9c9ce2744bba7f1f59adc47b44b93bba2350dacabf67330a1cfe09ee839bdd6ff79f406d03d40a0c40df2e1bb3cf6effb335076f2da51663c9be300c337a7decbe0c923395c380ef16b9efc13f9b293a07f811d6c440b9b547734fdef48f5cb4ff4baa659ab3884958da40141bf35d67e4edb3f39f3a84de75264ed331ce77ea265718fd2a7f83697e6efc6b3e47f2ec9ff2bb97b3c11e1c72afb7e3938febf24e2fc39139f1f1f4f6abf8be7f6eb31d855d4c3ce7e3d38bb3dd8fe09266db0fadf130000",
          source_map: "0x",
        },
      ],
    },
  ];

  const navigate = useNavigate();

  const selectedModuleName = useParams().selectedModuleName ?? "";
  useEffect(() => {
    if (!selectedModuleName && sortedPackages.length > 0) {
      navigate(
        `/account/${address}/modules/code/${sortedPackages[0].modules[0].name}`,
        {
          replace: true,
        },
      );
    }
  }, [selectedModuleName, sortedPackages, address, navigate]);

  if (sortedPackages.length === 0) {
    return <EmptyTabContent />;
  }

  const selectedModule = sortedPackages
    .flatMap((pkg) => pkg.modules)
    .find((module) => module.name === selectedModuleName);

  function getLinkToModule(moduleName: string) {
    return `/account/${address}/modules/code/${moduleName}`;
  }

  function navigateToModule(moduleName: string) {
    navigate(getLinkToModule(moduleName));
  }

  return (
    <Grid container spacing={2}>
      <Grid item md={3} xs={12}>
        <ModuleSidebar
          sortedPackages={sortedPackages}
          selectedModuleName={selectedModuleName}
          getLinkToModule={getLinkToModule}
          navigateToModule={navigateToModule}
        />
      </Grid>
      <Grid item md={9} xs={12}>
        {selectedModule === undefined ? (
          <EmptyTabContent
            message={`No module found with name: ${selectedModuleName}`}
          />
        ) : (
          <ModuleContent
            address={address}
            moduleName={selectedModuleName}
            bytecode={selectedModule.source}
          />
        )}
      </Grid>
    </Grid>
  );
}

function ModuleSidebar({
  sortedPackages,
  selectedModuleName,
  getLinkToModule,
  navigateToModule,
}: ModuleSidebarProps) {
  const theme = useTheme();
  const isWideScreen = useMediaQuery(theme.breakpoints.up("md"));
  const flattedModules = useMemo(
    () =>
      sortedPackages.flatMap((pkg) =>
        pkg.modules.map((module: any) => ({...module, pkg: pkg.name})),
      ),
    [sortedPackages],
  );

  return (
    <Box
      sx={{padding: "24px", maxHeight: "100vh", overflowY: "auto"}}
      bgcolor={theme.palette.mode === "dark" ? grey[800] : grey[100]}
      borderRadius={1}
    >
      {isWideScreen ? (
        sortedPackages.map((pkg) => {
          return (
            <Box marginBottom={3} key={pkg.name}>
              <Typography fontSize={14} fontWeight={600} marginY={"12px"}>
                {pkg.name}
              </Typography>
              <Box>
                {pkg.modules.map((module: any) => (
                  <SidebarItem
                    key={module.name}
                    linkTo={getLinkToModule(module.name)}
                    selected={module.name === selectedModuleName}
                    name={module.name}
                    loggingInfo={{
                      eventName: "modules_clicked",
                      value: module.name,
                    }}
                  />
                ))}
                <Divider sx={{marginTop: "24px"}} />
              </Box>
            </Box>
          );
        })
      ) : (
        <Autocomplete
          fullWidth
          options={flattedModules}
          groupBy={(option) => option.pkg}
          getOptionLabel={(option) => option.name}
          renderInput={(params) => (
            <TextField {...params} label="Select a module" />
          )}
          onChange={(_, module) => {
            module && navigateToModule(module?.name);
          }}
          value={
            selectedModuleName
              ? flattedModules.find(
                  (module) => module.name === selectedModuleName,
                )
              : null
          }
        />
      )}
    </Box>
  );
}

function ModuleContent({address, moduleName, bytecode}: ModuleContentProps) {
  const theme = useTheme();
  return (
    <Stack
      direction="column"
      spacing={2}
      padding={"24px"}
      bgcolor={theme.palette.mode === "dark" ? grey[800] : grey[100]}
      borderRadius={1}
    >
      <ModuleHeader address={address} moduleName={moduleName} />
      <Divider />
      <Code bytecode={bytecode} />
      <Divider />
      <ABI address={address} moduleName={moduleName} />
    </Stack>
  );
}

function ModuleHeader({
  address,
  moduleName,
}: {
  address: string;
  moduleName: string;
}) {
  const module = {
    bytecode:
      "0xa11ceb0b0600000005010002020218071a30084a200a6a1e00000001000000020000000300000004000000050000000600000561737365740442555344045553444304555344440455534454045742544304574554480b64756d6d795f6669656c64f22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa00020107010102010701020201070103020107010402010701050201070100",
    abi: {
      address:
        "0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa",
      name: "asset",
      friends: [],
      exposed_functions: [],
      structs: [
        {
          name: "BUSD",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "USDC",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "USDD",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "USDT",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "WBTC",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "WETH",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
      ],
    },
  };

  return (
    <Box
      display="flex"
      justifyContent="space-between"
      alignItems="center"
      flexWrap={"wrap"}
    >
      <Typography fontSize={24} fontWeight={700}>
        {moduleName}
      </Typography>
      <Box>
        {module && (
          <Typography fontSize={10}>
            {
              module.abi?.exposed_functions?.filter((fn: any) => fn.is_entry)
                ?.length
            }{" "}
            entry functions | Bytecode: 0 KB
          </Typography>
        )}
      </Box>
    </Box>
  );
}

function ABI({address, moduleName}: {address: string; moduleName: string}) {
  const module = {
    bytecode:
      "0xa11ceb0b0600000005010002020218071a30084a200a6a1e00000001000000020000000300000004000000050000000600000561737365740442555344045553444304555344440455534454045742544304574554480b64756d6d795f6669656c64f22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa00020107010102010701020201070103020107010402010701050201070100",
    abi: {
      address:
        "0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa",
      name: "asset",
      friends: [],
      exposed_functions: [],
      structs: [
        {
          name: "BUSD",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "USDC",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "USDD",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "USDT",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "WBTC",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
        {
          name: "WETH",
          is_native: false,
          abilities: [],
          generic_type_params: [],
          fields: [
            {
              name: "dummy_field",
              type: "bool",
            },
          ],
        },
      ],
    },
  };

  const isLoading = false;
  const error = false;

  if (isLoading) {
    return null;
  }

  if (error) {
    return <Error address={address} error={error} />;
  }

  if (!module) {
    return <EmptyTabContent />;
  }

  return (
    <Box>
      <Typography fontSize={20} fontWeight={700} marginY={"16px"}>
        ABI
      </Typography>
      <JsonViewCard data={module.abi} />
    </Box>
  );
}

export default ViewCode;
